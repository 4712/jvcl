--------------------------------------------------------------------------------
## Item registration
--------------------------------------------------------------------------------
@@TJvInspectorRegister
<GROUP TJvInspector.Item.Reg>
Summary
  Inspector item registration database.
Description
  TJvInspectorRegister is the item registration database. It provides a list of
  registration items which can searched for a match based on a data instance.

  Each data layer can have it's own registration database (but is not required
  to). Whenever a data instance gets created the following steps will occur:

  * Calls the inspectors' AfterDataCreate event
  * Locates the first available registration database. Because all data layers
    ultimately inherit from TJvCustomInspectorData, a database will always be
    found.
  * The registration database is searched for a match. The search is started
    with the last added item. If either no match or no perfect match has been
    found, the search is continued in the registration database of one of it's
    parent classes, until no parent registration database is found or until a
    perfect match is located. In the end the best match result is returned.
  * The inspectors' BeforeItemCreate event is called
  * If a valid item class has been found, the item is created and the
    AfterItemCreate event is called. In addition, the registration items'
    ApplyDefaults method is called for the newly created item.
--------------------------------------------------------------------------------
@@TJvInspectorRegister.Add
Summary
  Adds a registration item to the database.
Description
  Add adds a registration item to the registration database.
Parameters
  RegItem - Registration item to add.
--------------------------------------------------------------------------------
@@TJvInspectorRegister.Compare
Summary
  Compares two registration items.
Description
  Compare compares two registration items using a data instance to obtain a match
  value. If Item1 is a better match, Item1 match value will be returned (always
  positive), otherwise Item2 match value will be returned as a negative value.
  In other words: A positive result: Item1 is the winner, a negative result:
  Item2 is the winner.
Parameters
  ADataObj - Data layer instance use for comparison
  Item1 -    First item to be compared.
  Item2 -    Second item to be be compared.
--------------------------------------------------------------------------------
@@TJvInspectorRegister.Count
Summary
  Number of items in the database
Description
  Count indicates the number of registration items in the database.
--------------------------------------------------------------------------------
@@TJvInspectorRegister.Create
Summary
  Instantiates a registration database.
Description
  Create instantiates a new registration database for a specific data class.
Parameters
  ADataClass - The data class for which the registration database is
               instantiated.
--------------------------------------------------------------------------------
@@TJvInspectorRegister.DataClass
Summary
  Data class the database is for
Description
  DataClass indicates for which data layer class the registration database is.
  This is used in FindMatch to search for other registration databases up the
  data layer hierarchie.
--------------------------------------------------------------------------------
@@TJvInspectorRegister.Delete
Summary
  Removes a registration item from the database.
Description
  Delete removes a registration item from the registration database.
Parameters
  RegItem - Registration item to remove.
--------------------------------------------------------------------------------
@@TJvInspectorRegister.Destroy
Summary
  Disposes of the registration database.
Description
  Destroy clears the registration database and then destroys it.
--------------------------------------------------------------------------------
@@TJvInspectorRegister.FindMatch
Summary
  Finds a match for the given data instance
Description
  FindMatch tries to find a match for the given data instance. It will start in
  it's own database from the last added item back to the first added item. If no
  perfect match is found, it will try to locate a registration database in one
  of the parent data classes and will delagate the search to that database if
  found. The result will be either <B>nil</B> if no match was found or the
  registration item that matched best.
Parameters
  ADataObj - Data layer instance to find a match for.
--------------------------------------------------------------------------------
@@TJvInspectorRegister.Items
Summary
  Reference to the registration items in the database.
Description
  Items is the array of items in the registration database.
--------------------------------------------------------------------------------
## Registration items: base class
--------------------------------------------------------------------------------
@@TJvCustomInspectorRegItem
<GROUP TJvInspector.Item.Reg>
Summary
  Base registration item.
Description
  TJvCustomInspectorRegItem is the abstract base registration item. You should
  never add an instance of this class to the registration database but rather
  one of the descendant types.
--------------------------------------------------------------------------------
@@TJvCustomInspectorRegItem.ApplyDefaults
Summary
  Applies defaults to an inspector item
Description
  AppliesTo assigns default values to an inspector item. ApplyDefaults is called
  by the data layers' CreateChild method after the inspector item is created.
Parameters
  Item - Inspector item to assign the defaults to.
--------------------------------------------------------------------------------
@@TJvCustomInspectorRegItem.Compare
Summary
  Compares the item with another
Description
  Compare compares the item with the specified item. The registration item uses
  two compare methods, Compare and CompareTo, which work in a similar way as
  Assign and AssignTo: if Compare doesn't know how to compare the two items,
  It swaps the items and calls CompareTo.

  The Compare method in TJvCustomInspectorRegItem will call the specified items'
  CompareTo method with itself as a parameter. The result of this call will be
  negated (because the order of the items was swapped) and returned.
Parameters
  Item - Registration item to compare with
  ADataObj - Data layer instance use for comparison
Returns
  If the specified item is a better match than this item, the negated match value
  is returned, otherwise the match value of this item is returned. If the items
  could not be compared, not the match value will be returned but the match
  percentages using the same rules as for the match value (ie. a negative number
  means the specified item is a better match, a positive number means this item
  is the better match).
See Also
  CompareTo
--------------------------------------------------------------------------------
@@TJvCustomInspectorRegItem.CompareTo
Summary
  Compares the item to another
Description
  CompareTo compares the item to the specified item. The registration item uses
  two compare methods, Compare and CompareTo, which work in a similar way as
  Assign and AssignTo: if Compare doesn't know how to compare the two items,
  It swaps the items and calls CompareTo.

  The CompareTo method in TJvCustomInspectorRegItem will return the match
  percentage of the one that matched highest.
Parameters
  Item - Registration item to compare to
  ADataObj - Data layer instance use for comparison
Returns
  If the specified Item is a better match than this item, the negated match
  percentage of that item is returned, otherwise the match percentage of this
  item is returned.
See Also
  Compare
--------------------------------------------------------------------------------
@@TJvCustomInspectorRegItem.Create
Summary
  Instantiates a registration item
Description
  Create instantiates a registration item and assigns it the inspector item it
  should use if this item matches a data instance.
Parameters
  AItemClass - Inspector item class to assign to the registration item.
--------------------------------------------------------------------------------
@@TJvCustomInspectorRegItem.IsMatch
Summary
  Determines if the item matches for the given data instance.
Description
  IsMatch checks if the given item is a match for the given data layer. It
  returns the result of the expression MatchValue(ADataObj) <> 0.
Parameters
  ADataObj - Data layer instance use for comparison
--------------------------------------------------------------------------------
@@TJvCustomInspectorRegItem.ItemClass
Summary
  Inspector item class to use on a match
Description
  ItemClass holds the inspector item class to use if this item is a match for a
  data instance. This value is used in the CreateChild method of a data object.
--------------------------------------------------------------------------------
@@TJvCustomInspectorRegItem.MatchValue
Summary
  Determines the match value for the given data instance.
Description
  MatchValue determines if and how good the registration item matches for the
  given data instance. MatchValue in TJvCustomInspectorRegItem is an abstract
  method and should be overriden in descendant classes to provide a meaningfull
  value.
Parameters
  ADataObj - Data layer instance use for comparison
--------------------------------------------------------------------------------
@@TJvCustomInspectorRegItem.MatchPercent
Summary
  Determines the match percentage for the given data instance.
Description
  MatchPercent determines the percentage of matching  the registration item to
  the given data instance. MatchPercent in TJvCustomInspectorRegItem is an
  abstract method and should be overriden in descendant classes to provide a
  meaningfull value (this usually involves in translating the MatchValue to a
  percentage).
Parameters
  ADataObj - Data layer instance use for comparison
--------------------------------------------------------------------------------
## Registration items: type info based
--------------------------------------------------------------------------------
@@TJvInspectorTypeInfoRegItem
<GROUP TJvInspector.Item.Reg>
Summary
  Registration item based on type info
Description
  TJvInspectorTypeInfoRegItem is a registration item that bases its matching
  value on the type info it represents and the type info in the data object.

  The match value is determined as follows:
  <table>
  Situation                                   Value
  ---------                                   -----
  Equal RTTI pointers                         100
  Different RTTI pointers, class type,        50
    objects class inherits from the given
    class.
  Different RTTI, no class type or not        0
  inheriting from class
  </table>
  Thus, if the registration item represents the type info for TComponent and
  the data instance points to TWinControl, the MatchValue will be 50 (ie. not
  a perfect match).

  The match percentage will be equal to the match value in all cases.
--------------------------------------------------------------------------------
@@TJvInspectorTypeInfoRegItem.Create
Summary
  Instantiates a registration item
Description
  Create instantiates a registration item and assigns it the inspector item it
  should use if this item matches a data instance.
Parameters
  AItemClass - Inspector item class to assign to the registration item.
  ATypeInfo - The RTTI pointer this item should represent.
--------------------------------------------------------------------------------
@@TJvInspectorTypeInfoRegItem.TypeInfo
Summary
  The type info this registration item represents
Description
  TypeInfo indicates the RTTI pointer this registration item is used for. Read
  TypeInfo to determine which RTTI pointer is matched or set it to another
  RTTI pointer.
--------------------------------------------------------------------------------
## Registration items: type kind based
--------------------------------------------------------------------------------
@@TJvInspectorTypeKindRegItem
<GROUP TJvInspector.Item.Reg>
Summary
  Registration item based on type kinds
Description
  TJvInspectorTypeKindRegItem is a registration item that bases its matching
  value on the kind of type it represents and the type info in the data object.

  The match value is determined as follows:
  <table>
  Situation                                   Value
  ---------                                   -----
  Equal type kinds                            100
  Not equal type kinds                        0
  </table>
  Since TypKind is generic, the match percentage will be either 0 or 50%.
--------------------------------------------------------------------------------
@@TJvInspectorTypeKindRegItem.Create
Summary
  Instantiates a registration item
Description
  Create instantiates a registration item and assigns it the inspector item it
  should use if this item matches a data instance.
Parameters
  AItemClass - Inspector item class to assign to the registration item.
  ATypeKind - The type of RTTI this item should represent.
--------------------------------------------------------------------------------
@@TJvInspectorTypeKindRegItem.TypeKind
Summary
  The type kind this registration item represents
Description
  TypeKind indicates what sort of type info this registration item is used for.
  Read TypeKind to determine which type of RTTI is matched or set it to another
  RTTI type.
--------------------------------------------------------------------------------
## Registration items: TCaption types
--------------------------------------------------------------------------------
@@TJvInspectorTCaptionRegItem
<GROUP TJvInspector.Item.Reg>
Summary
  Registration item for the TCaption type.
Description
  TJvInspectorTCaptionRegItem is the registration item that specifically matches
  TCaption types. For these types, ApplyDefaults will set the item's
  iifMultiline flag.
--------------------------------------------------------------------------------
## Registration items: property data layer
--------------------------------------------------------------------------------
@@TJvInspectorPropRegItem
<GROUP TJvInspector.Item.Reg>
Summary
  Registration item for the property data layer
Description
  TJvInspectorPropRegItem is a registration item that bases its matching
  value on the kind of type it represents and the type info in the data object.

  The match value is determined by adding one or more values as follows:
  <table>
    Situation                     Value
    ---------                     -----
    <B>ClassType known<B>
    class type equal              add 32
    class type inherits           add 16
    class does not match          return 0
    <B>\Name known</B>
    \Name exact match             add  8
    \Name matches by mask         add  4
    \Name does not match          return 0
    <B>Type info known</B>
    Type info exact match         add  2
    Type info typekind matches    add  1
    Type info does not match      return 0
  </table>
  The percentage will be calculated based on these rules:
  <table>
  Situation                       Value
  ---------                       -----
  Initial                         100
  ClassType unknown               decrease with 10
  ClassType known but inherits    divide by 2
  \Name unknown                   decrease with 5
  \Name matches by mask           divide by 2
  Type info unknown               decrease by 10
  Type info typekind matches      divide by 2
  </table>
  When the match value = 0, the percentage will ofcourse also be 0.
--------------------------------------------------------------------------------
@@TJvInspectorPropRegItem.Create
Summary
  Instantiates a registration item
Description
  Create instantiates a registration item and assigns it the inspector item it
  should use if this item matches a data instance.
Parameters
  AItemClass - Inspector item class to assign to the registration item.
  AObjectClass - The class the property belongs to
  AName - The name of the property.
  ATypeInfo - The type info of the property.
--------------------------------------------------------------------------------
@@TJvInspectorPropRegItem.Name
Summary
  The property name.
Description
  Name holds the property name that's used while matching. If Name is empty, it
  will not be considered in the match value.
--------------------------------------------------------------------------------
@@TJvInspectorPropRegItem.ObjectClass
Summary
  The object's class
Description
  ObjectClass holds the class the instance for the property should be. If
  ObjectClass is <B>nil</B>, it will not be considered in the match value.
--------------------------------------------------------------------------------
@@TJvInspectorPropRegItem.TypeInfo
Summary
  The property's type info.
Description
  TypeInfo holds the type info that's used while matching. If TypeInfo is
  <B>nil</B>, it will not be considered in the match value.
--------------------------------------------------------------------------------
## Registration items: database field mapping
--------------------------------------------------------------------------------
@@TJvInspectorTFieldTypeRegItem
<GROUP TJvInspector.Item.Reg>
Summary
  Registration item for mapping TFieldTypes to RTTI.
Description
  TJvInspectorTFieldTypeRegItem is a registration item that bases its matching
  value on the TFieldType it represents.

  The match value is determined by adding one or more values as follows:
  <table>
    Situation                     Value
    ---------                     -----
    <B>\FieldType specified</B>
    no match:                     return 0
    match:                        add 16
    <B>\FieldName specified</B>
    no match:                     return 0
    matches by mask:              add 4
    exact match:                  add 8
    <B>\FieldTable specified</B>
    no match:                     return 0
    matches by mask:              add 1
    exact match:                  add 2
  </table>
  The percentage will be either 0 or 100, indicating wether or not to continue
  the search.
--------------------------------------------------------------------------------
@@TJvInspectorTFieldTypeRegItem.Create
Summary
  Instantiates a registration item
Description
  Create instantiates a registration item and assigns it the inspector item it
  should use if this item matches a data instance.
Parameters
  AFieldName - Name of the field to match.
  AFieldTable - Name of the table to match.
  AFieldType - The TFieldType to match.
  ATypeInfo - The type info of the property.
--------------------------------------------------------------------------------
@@TJvInspectorTFieldTypeRegItem.FieldName
Summary
  Name of the field.
Description
  FieldName is the name of the field to match. If FieldName is an empty string,
  it is not used for matching purposes.
--------------------------------------------------------------------------------
@@TJvInspectorTFieldTypeRegItem.FieldTable
Summary
  Name of the table.
Description
  FieldTable is the name of the table to match. If FieldTable is an empt
  string, it is not used for matching purposes.
--------------------------------------------------------------------------------
@@TJvInspectorTFieldTypeRegItem.FieldType
Summary
  Type of the field.
Description
  FieldType is the type of the field to match. If FieldType is set to ftUnknown,
  it is not used for matching purposes.
--------------------------------------------------------------------------------
@@TJvInspectorTFieldTypeRegItem.TypeInfo
Summary
  The type info to use.
Description
  TypeInfo holds the type info that should be used when the item matches the
  field.
--------------------------------------------------------------------------------

