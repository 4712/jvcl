<?xml version="1.0"?>
<!-- JVCL build script -->
<project name="JVCL" default="help">
  <property name="version.major"    value="3"/>
  <property name="version.minor"    value="0"/>
  <property name="version.release"  value="0"/>
  <property name="version.build"    value="(Alpha)"/>
  <property name="version"          value="${version.major}.${version.minor}.${version.release}.${version.build}"/>
  <property name="shortversion"     value="${version.major}${version.minor}${version.release}${version.build}"/>
  <!-- JVCL releases -->
  <property name="fullzip"     value="JCL+JVCL${shortversion}FullInstall.zip" />
  <property name="srcexzip"    value="JVCL${shortversion}Source+Examples.zip" />
  <property name="srczip"      value="JVCL${shortversion}SourceOnly.zip" />
  <!-- standalone -->
  <property name="uibzip"      value="JvUIB${shortversion}.zip" />
  <property name="tfzip"       value="JvTimeFramework${shortversion}.zip" />
  <property name="mtzip"       value="JvManagedThreads${shortversion}.zip" />
  <property name="dotnetzip"   value="JvDotNetCtrls${shortversion}.zip" />
  <property name="dockzip"     value="JvDocking${shortversion}.zip" />
  <property name="xpzip"       value="JvXPCtrls${shortversion}.zip" />
  <property name="wizzip"      value="JvWizard${shortversion}.zip" />

  <target name="help">
  <echo message="Usage: want [target]" />
  <echo message="Available targets:" />
  <echo message="  jvcl_export - gets latest JVCL from CVS" />
  <echo message="  jcl_export - gets latest JCL from CVS" />
  <echo message="  dist - builds JVCL zip files" />
  <echo message="  standalone - builds standalone zip files" />
  <echo message="  separate - builds separate zip files" />
  <echo message="  all - build all zip files" />
  </target>

  <target name="jcl_export" description="Get latest jcl from CVS">
  <delete dir="jcl" />
  <cvs
    command="export"
    cvsroot=":pserver:anonymous@cvs.sourceforge.net:/cvsroot/jcl"
    dest="."
    alias="jcl"
    package="jcl"
    tag="HEAD"
    />
  </target>

  <target name="jvcl_export" description="Get latest jvcl from CVS">
  <delete dir="jvcl" />
  <cvs
    command="export"
    cvsroot=":pserver:anonymous@cvs.jvcl.sourceforge.net:/cvsroot/jvcl"
    dest="."
    alias="jvcl"
    package="dev/JVCL3"
    tag="HEAD"
    />
  </target>

  <target name="dist" description="Build JVCL .zip files" >
    <delete file="${fullzip}" />
    <delete file="${srcexzip}" />
    <delete file="${srczip}" />
    <zip zipfile="${fullzip}">
      <fileset>
          <exclude name=".cvsignore" />
          <include name="./jcl/**" />
          <include name="./jvcl/**" />
      </fileset>
    </zip>
    <zip zipfile="${srcexzip}">
      <fileset>
          <exclude name=".cvsignore" />
          <include name="./jvcl/bin/**" />
          <include name="./jvcl/common/**" />
          <include name="./jvcl/dcu/**" />
          <include name="./jvcl/design/**" />
          <include name="./jvcl/Dict/**" />
          <include name="./jvcl/examples/**" />
          <include name="./jvcl/help/**" />
          <include name="./jvcl/install/**" />
          <include name="./jvcl/lib5/**" />
          <include name="./jvcl/lib6/**" />
          <include name="./jvcl/lib7/**" />
          <include name="./jvcl/packages/**" />
          <include name="./jvcl/Resources/**" />
          <include name="./jvcl/run/**" />
      </fileset>
    </zip>
    <zip zipfile="${srczip}">
      <fileset>
          <exclude name=".cvsignore" />
          <include name="./jvcl/common/**" />
          <include name="./jvcl/design/**" />
          <include name="./jvcl/install/**" />
          <include name="./jvcl/help/**" />
          <include name="./jvcl/lib5/**" />
          <include name="./jvcl/lib6/**" />
          <include name="./jvcl/lib7/**" />
          <include name="./jvcl/packages/**" />
          <include name="./jvcl/Resources/**" />
          <include name="./jvcl/run/**" />
      </fileset>
    </zip>
  </target>

  <target name="standalone" description="Build standalone zip files">
    <delete file="${uibzip}" />
    <delete file="${tfzip}" />
    <delete file="${mtzip}" />
    <delete file="${dotnetzip}" />
    <delete file="${dockzip}" />
    <delete file="${xpzip}" />
    <delete file="${wizzip}" />
    <zip zipfile="${uibzip}">
      <fileset>
          <exclude name="./jvcl/archive/**" />
          <exclude name="./jvcl/images/**" />
          <exclude name="./jvcl/packages/xml/**" />
          <include name="./jvcl/*" />
          <include name="./jvcl/**/JvUIB*" />
          <include name="./jvcl/help/**" />
          <include name="./jvcl/Includes/**" />
          <include name="./jvcl/examples/JvUIB/**" />
          <include name="./jvcl/install/JVCL3Install/**" />
      </fileset>
    </zip>
    <zip zipfile="${tfzip}">
      <fileset>
          <exclude name="./jvcl/archive/**" />
          <exclude name="./jvcl/images/**" />
          <exclude name="./jvcl/packages/xml/**" />
          <include name="./jvcl/*" />
          <include name="./jvcl/**/JvTF*" />
          <include name="./jvcl/**/JvTimeFramework*" />
          <include name="./jvcl/help/**" />
          <include name="./jvcl/examples/JvTimeFrameWork/**" />
          <include name="./jvcl/install/JVCL3Install/**" />
      </fileset>
    </zip>
    <zip zipfile="${mtzip}">
      <fileset>
          <exclude name="./jvcl/archive/**" />
          <exclude name="./jvcl/images/**" />
          <exclude name="./jvcl/packages/xml/**" />
          <include name="./jvcl/*" />
          <include name="./jvcl/**/JvMT*" />
          <include name="./jvcl/**/JvManagedThreads*" />
          <include name="./jvcl/help/**" />
          <include name="./jvcl/examples/JvManagedThreads/**" />
          <include name="./jvcl/install/JVCL3Install/**" />
      </fileset>
    </zip>
    <zip zipfile="${dotnetzip}">
      <fileset>
          <exclude name="./jvcl/archive/**" />
          <exclude name="./jvcl/images/**" />
          <exclude name="./jvcl/packages/xml/**" />
          <include name="./jvcl/*" />
          <include name="./jvcl/**/JvDotNet*" />
          <include name="./jvcl/**/JvDBDotNet*" />
          <include name="./jvcl/help/**" />
          <include name="./jvcl/examples/JvDotNetCtrls/**" />
          <include name="./jvcl/install/JVCL3Install/**" />
      </fileset>
    </zip>
    <zip zipfile="${dockzip}">
      <fileset>
          <exclude name="./jvcl/archive/**" />
          <exclude name="./jvcl/images/**" />
          <exclude name="./jvcl/packages/xml/**" />
          <include name="./jvcl/*" />
          <include name="./jvcl/**/JvDock**" />
          <include name="./jvcl/help/**" />
          <include name="./jvcl/examples/JvDocking/**" />
          <include name="./jvcl/install/JVCL3Install/**" />
      </fileset>
    </zip>
    <zip zipfile="${xpzip}">
      <fileset>
          <exclude name="./jvcl/archive/**" />
          <exclude name="./jvcl/images/**" />
          <exclude name="./jvcl/packages/xml/**" />
          <include name="./jvcl/*" />
          <include name="./jvcl/**/JvXP*" />
          <include name="./jvcl/help/**" />
          <include name="./jvcl/examples/JvXPControls/**" />
          <include name="./jvcl/install/JVCL3Install/**" />
      </fileset>
    </zip>
    <zip zipfile="${wizzip}">
      <fileset>
          <exclude name="./jvcl/archive/**" />
          <exclude name="./jvcl/images/**" />
          <exclude name="./jvcl/packages/xml/**" />
          <include name="./jvcl/*" />
          <include name="./jvcl/**/JvWizard*" />
          <include name="./jvcl/help/**" />
          <include name="./jvcl/install/JVCL3Install/**" />
      </fileset>
    </zip>
  </target>
  <!-- !!!insert "separate" target here!!! -->
  <target name="all" description="Build all zip files" depends="separate, standalone, dist">
    <!-- builds everything -->
  </target>
</project>
